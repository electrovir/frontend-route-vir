(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const st={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},it=t=>(...e)=>({_$litDirective$:t,values:e});let Se=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var re;const Y=window,L=Y.trustedTypes,je=L?L.createPolicy("lit-html",{createHTML:t=>t}):void 0,de="$lit$",w=`lit$${(Math.random()+"").slice(9)}$`,ot="?"+w,Wt=`<${ot}>`,N=document,M=()=>N.createComment(""),U=t=>t===null||typeof t!="object"&&typeof t!="function",at=Array.isArray,Ft=t=>at(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",ne=`[ 	
\f\r]`,k=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Me=/-->/g,Ue=/>/g,C=RegExp(`>|${ne}(?:([^\\s"'>=/]+)(${ne}*=${ne}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),He=/'/g,ze=/"/g,ct=/^(?:script|style|textarea|title)$/i,It=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),qt=It(1),_=Symbol.for("lit-noChange"),p=Symbol.for("lit-nothing"),Be=new WeakMap,R=N.createTreeWalker(N,129,null,!1);function lt(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return je!==void 0?je.createHTML(e):e}const Kt=(t,e)=>{const r=t.length-1,n=[];let s,o=e===2?"<svg>":"",i=k;for(let a=0;a<r;a++){const u=t[a];let c,l,h=-1,d=0;for(;d<u.length&&(i.lastIndex=d,l=i.exec(u),l!==null);)d=i.lastIndex,i===k?l[1]==="!--"?i=Me:l[1]!==void 0?i=Ue:l[2]!==void 0?(ct.test(l[2])&&(s=RegExp("</"+l[2],"g")),i=C):l[3]!==void 0&&(i=C):i===C?l[0]===">"?(i=s??k,h=-1):l[1]===void 0?h=-2:(h=i.lastIndex-l[2].length,c=l[1],i=l[3]===void 0?C:l[3]==='"'?ze:He):i===ze||i===He?i=C:i===Me||i===Ue?i=k:(i=C,s=void 0);const f=i===C&&t[a+1].startsWith("/>")?" ":"";o+=i===k?u+Wt:h>=0?(n.push(c),u.slice(0,h)+de+u.slice(h)+w+f):u+w+(h===-2?(n.push(void 0),a):f)}return[lt(t,o+(t[r]||"<?>")+(e===2?"</svg>":"")),n]};class H{constructor({strings:e,_$litType$:r},n){let s;this.parts=[];let o=0,i=0;const a=e.length-1,u=this.parts,[c,l]=Kt(e,r);if(this.el=H.createElement(c,n),R.currentNode=this.el.content,r===2){const h=this.el.content,d=h.firstChild;d.remove(),h.append(...d.childNodes)}for(;(s=R.nextNode())!==null&&u.length<a;){if(s.nodeType===1){if(s.hasAttributes()){const h=[];for(const d of s.getAttributeNames())if(d.endsWith(de)||d.startsWith(w)){const f=l[i++];if(h.push(d),f!==void 0){const g=s.getAttribute(f.toLowerCase()+de).split(w),m=/([.?@])?(.*)/.exec(f);u.push({type:1,index:o,name:m[2],strings:g,ctor:m[1]==="."?Gt:m[1]==="?"?Zt:m[1]==="@"?Qt:J})}else u.push({type:6,index:o})}for(const d of h)s.removeAttribute(d)}if(ct.test(s.tagName)){const h=s.textContent.split(w),d=h.length-1;if(d>0){s.textContent=L?L.emptyScript:"";for(let f=0;f<d;f++)s.append(h[f],M()),R.nextNode(),u.push({type:2,index:++o});s.append(h[d],M())}}}else if(s.nodeType===8)if(s.data===ot)u.push({type:2,index:o});else{let h=-1;for(;(h=s.data.indexOf(w,h+1))!==-1;)u.push({type:7,index:o}),h+=w.length-1}o++}}static createElement(e,r){const n=N.createElement("template");return n.innerHTML=e,n}}function O(t,e,r=t,n){var s,o,i,a;if(e===_)return e;let u=n!==void 0?(s=r._$Co)===null||s===void 0?void 0:s[n]:r._$Cl;const c=U(e)?void 0:e._$litDirective$;return(u==null?void 0:u.constructor)!==c&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),c===void 0?u=void 0:(u=new c(t),u._$AT(t,r,n)),n!==void 0?((i=(a=r)._$Co)!==null&&i!==void 0?i:a._$Co=[])[n]=u:r._$Cl=u),u!==void 0&&(e=O(t,u._$AS(t,e.values),u,n)),e}class Yt{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var r;const{el:{content:n},parts:s}=this._$AD,o=((r=e==null?void 0:e.creationScope)!==null&&r!==void 0?r:N).importNode(n,!0);R.currentNode=o;let i=R.nextNode(),a=0,u=0,c=s[0];for(;c!==void 0;){if(a===c.index){let l;c.type===2?l=new B(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new Xt(i,this,e)),this._$AV.push(l),c=s[++u]}a!==(c==null?void 0:c.index)&&(i=R.nextNode(),a++)}return R.currentNode=N,o}v(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class B{constructor(e,r,n,s){var o;this.type=2,this._$AH=p,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=s,this._$Cp=(o=s==null?void 0:s.isConnected)===null||o===void 0||o}get _$AU(){var e,r;return(r=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=O(this,e,r),U(e)?e===p||e==null||e===""?(this._$AH!==p&&this._$AR(),this._$AH=p):e!==this._$AH&&e!==_&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Ft(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==p&&U(this._$AH)?this._$AA.nextSibling.data=e:this.$(N.createTextNode(e)),this._$AH=e}g(e){var r;const{values:n,_$litType$:s}=e,o=typeof s=="number"?this._$AC(e):(s.el===void 0&&(s.el=H.createElement(lt(s.h,s.h[0]),this.options)),s);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(n);else{const i=new Yt(o,this),a=i.u(this.options);i.v(n),this.$(a),this._$AH=i}}_$AC(e){let r=Be.get(e.strings);return r===void 0&&Be.set(e.strings,r=new H(e)),r}T(e){at(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,s=0;for(const o of e)s===r.length?r.push(n=new B(this.k(M()),this.k(M()),this,this.options)):n=r[s],n._$AI(o),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,r);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var r;this._$AM===void 0&&(this._$Cp=e,(r=this._$AP)===null||r===void 0||r.call(this,e))}}class J{constructor(e,r,n,s,o){this.type=1,this._$AH=p,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=p}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,r=this,n,s){const o=this.strings;let i=!1;if(o===void 0)e=O(this,e,r,0),i=!U(e)||e!==this._$AH&&e!==_,i&&(this._$AH=e);else{const a=e;let u,c;for(e=o[0],u=0;u<o.length-1;u++)c=O(this,a[n+u],r,u),c===_&&(c=this._$AH[u]),i||(i=!U(c)||c!==this._$AH[u]),c===p?e=p:e!==p&&(e+=(c??"")+o[u+1]),this._$AH[u]=c}i&&!s&&this.j(e)}j(e){e===p?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Gt extends J{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===p?void 0:e}}const Jt=L?L.emptyScript:"";class Zt extends J{constructor(){super(...arguments),this.type=4}j(e){e&&e!==p?this.element.setAttribute(this.name,Jt):this.element.removeAttribute(this.name)}}class Qt extends J{constructor(e,r,n,s,o){super(e,r,n,s,o),this.type=5}_$AI(e,r=this){var n;if((e=(n=O(this,e,r,0))!==null&&n!==void 0?n:p)===_)return;const s=this._$AH,o=e===p&&s!==p||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,i=e!==p&&(s===p||o);o&&this.element.removeEventListener(this.name,this,s),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}}class Xt{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){O(this,e)}}const Ve=Y.litHtmlPolyfillSupport;Ve==null||Ve(H,B),((re=Y.litHtmlVersions)!==null&&re!==void 0?re:Y.litHtmlVersions=[]).push("2.8.0");const er=(t,e,r)=>{var n,s;const o=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:e;let i=o._$litPart$;if(i===void 0){const a=(s=r==null?void 0:r.renderBefore)!==null&&s!==void 0?s:null;o._$litPart$=i=new B(e.insertBefore(M(),a),a,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let fe=class extends Se{constructor(e){if(super(e),this.et=p,e.type!==st.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===p||e==null)return this.ft=void 0,this.et=e;if(e===_)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;const r=[e];return r.raw=r,this.ft={_$litType$:this.constructor.resultType,strings:r,values:[]}}};fe.directiveName="unsafeHTML",fe.resultType=1;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let We=class extends fe{};We.directiveName="unsafeSVG",We.resultType=2;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const q=window,we=q.ShadowRoot&&(q.ShadyCSS===void 0||q.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ee=Symbol(),Fe=new WeakMap;let ut=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==Ee)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(we&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=Fe.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&Fe.set(r,e))}return e}toString(){return this.cssText}};const P=t=>new ut(typeof t=="string"?t:t+"",void 0,Ee),D=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,s,o)=>n+(i=>{if(i._$cssResult$===!0)return i.cssText;if(typeof i=="number")return i;throw Error("Value passed to 'css' function must be a 'css' function result: "+i+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[o+1],t[0]);return new ut(r,t,Ee)},tr=(t,e)=>{we?t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):e.forEach(r=>{const n=document.createElement("style"),s=q.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,t.appendChild(n)})},Ie=we?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return P(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var se;const G=window,qe=G.trustedTypes,rr=qe?qe.emptyScript:"",Ke=G.reactiveElementPolyfillSupport,pe={toAttribute(t,e){switch(e){case Boolean:t=t?rr:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},ht=(t,e)=>e!==t&&(e==e||t==t),ie={attribute:!0,type:String,converter:pe,reflect:!1,hasChanged:ht},me="finalized";class x extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var r;this.finalize(),((r=this.h)!==null&&r!==void 0?r:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((r,n)=>{const s=this._$Ep(n,r);s!==void 0&&(this._$Ev.set(s,n),e.push(s))}),e}static createProperty(e,r=ie){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(e,r),!r.noAccessor&&!this.prototype.hasOwnProperty(e)){const n=typeof e=="symbol"?Symbol():"__"+e,s=this.getPropertyDescriptor(e,n,r);s!==void 0&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,r,n){return{get(){return this[r]},set(s){const o=this[e];this[r]=s,this.requestUpdate(e,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||ie}static finalize(){if(this.hasOwnProperty(me))return!1;this[me]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const r=this.properties,n=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(const s of n)this.createProperty(s,r[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const s of n)r.unshift(Ie(s))}else e!==void 0&&r.push(Ie(e));return r}static _$Ep(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(r=>r(this))}addController(e){var r,n;((r=this._$ES)!==null&&r!==void 0?r:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)===null||n===void 0||n.call(e))}removeController(e){var r;(r=this._$ES)===null||r===void 0||r.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,r)=>{this.hasOwnProperty(r)&&(this._$Ei.set(r,this[r]),delete this[r])})}createRenderRoot(){var e;const r=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return tr(r,this.constructor.elementStyles),r}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostConnected)===null||n===void 0?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostDisconnected)===null||n===void 0?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EO(e,r,n=ie){var s;const o=this.constructor._$Ep(e,n);if(o!==void 0&&n.reflect===!0){const i=(((s=n.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?n.converter:pe).toAttribute(r,n.type);this._$El=e,i==null?this.removeAttribute(o):this.setAttribute(o,i),this._$El=null}}_$AK(e,r){var n;const s=this.constructor,o=s._$Ev.get(e);if(o!==void 0&&this._$El!==o){const i=s.getPropertyOptions(o),a=typeof i.converter=="function"?{fromAttribute:i.converter}:((n=i.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?i.converter:pe;this._$El=o,this[o]=a.fromAttribute(r,i.type),this._$El=null}}requestUpdate(e,r,n){let s=!0;e!==void 0&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||ht)(this[e],r)?(this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,n))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,o)=>this[o]=s),this._$Ei=void 0);let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(e=this._$ES)===null||e===void 0||e.forEach(s=>{var o;return(o=s.hostUpdate)===null||o===void 0?void 0:o.call(s)}),this.update(n)):this._$Ek()}catch(s){throw r=!1,this._$Ek(),s}r&&this._$AE(n)}willUpdate(e){}_$AE(e){var r;(r=this._$ES)===null||r===void 0||r.forEach(n=>{var s;return(s=n.hostUpdated)===null||s===void 0?void 0:s.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((r,n)=>this._$EO(n,this[n],r)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}x[me]=!0,x.elementProperties=new Map,x.elementStyles=[],x.shadowRootOptions={mode:"open"},Ke==null||Ke({ReactiveElement:x}),((se=G.reactiveElementVersions)!==null&&se!==void 0?se:G.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var oe,ae;class j extends x{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,r;const n=super.createRenderRoot();return(e=(r=this.renderOptions).renderBefore)!==null&&e!==void 0||(r.renderBefore=n.firstChild),n}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=er(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return _}}j.finalized=!0,j._$litElement$=!0,(oe=globalThis.litElementHydrateSupport)===null||oe===void 0||oe.call(globalThis,{LitElement:j});const Ye=globalThis.litElementPolyfillSupport;Ye==null||Ye({LitElement:j});((ae=globalThis.litElementVersions)!==null&&ae!==void 0?ae:globalThis.litElementVersions=[]).push("3.3.3");var nr=globalThis&&globalThis.__esDecorate||function(t,e,r,n,s,o){function i(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,d=!1,f=r.length-1;f>=0;f--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(S){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(S||null))};var y=(0,r[f])(a==="accessor"?{get:l.get,set:l.set}:l[u],g);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=i(y.get))&&(l.get=h),(h=i(y.set))&&(l.set=h),(h=i(y.init))&&s.unshift(h)}else(h=i(y))&&(a==="field"?s.unshift(h):l[u]=h)}c&&Object.defineProperty(c,n.name,l),d=!0},sr=globalThis&&globalThis.__runInitializers||function(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0},ir=globalThis&&globalThis.__setFunctionName||function(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})};function or(){function t(e,r){return e}return t}let dt=(()=>{let t=[or()],e,r=[],n,s=j;return n=class extends s{},ir(n,"DeclarativeElement"),(()=>{const o=typeof Symbol=="function"&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;nr(null,e={value:n},t,{kind:"class",name:n.name,metadata:o},null,r),n=e.value,o&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),sr(n,r)})(),n})();function ar(t,e){return t.includes(e)}function V(t){return!!t}const cr={capitalizeFirstLetter:!1};function lr(t){return t.length?t[0].toUpperCase()+t.slice(1):""}function ur(t,e){return e.capitalizeFirstLetter?lr(t):t}function hr(t,e=cr){const r=t.toLowerCase();if(!r.length)return"";const n=r.replace(/^-+/,"").replace(/-{2,}/g,"-").replace(/-(?:.|$)/g,s=>{const o=s[1];return o?o.toUpperCase():""});return ur(n,e)}function Ge(t){return t!==t.toUpperCase()}function dr(t){return t.split("").reduce((r,n,s,o)=>{const i=s>0?o[s-1]:"",a=s<o.length-1?o[s+1]:"",u=Ge(i)||Ge(a);return n===n.toLowerCase()||s===0||!u?r+=n:r+=`-${n.toLowerCase()}`,r},"").toLowerCase()}function fr(t,e){return t.split(e)}function ft(t){return t?t instanceof Error?t.message:b(t,"message")?String(t.message):String(t):""}function pr(t){return t instanceof Error?t:new Error(ft(t))}function A(t){return!!t&&typeof t=="object"}const mr=[(t,e)=>e in t,(t,e)=>e in t.constructor.prototype];function b(t,e){return t?mr.some(r=>{try{return r(t,e)}catch{return!1}}):!1}function v(t){let e;try{e=Reflect.ownKeys(t)}catch{}return e??[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function pt(t,e,r=!1,n={}){const s=v(t),o=new Set(v(e));if(!r){const i=s.filter(a=>!o.has(a));if(i.length)throw new Error(`Test object has extra keys: ${i.join(", ")}`)}o.forEach(i=>{if(!b(t,i))throw new Error(`test object does not have key "${String(i)}" from expected shape.`);function a(l){throw new Error(`test object value at key "${String(i)}" did not match expected shape: ${l}`)}const u=t[i],c=e[i];n[i]||mt(u,c,a,r,n[i]??{})})}function mt(t,e,r,n,s){var a;const o=typeof t,i=typeof e;o!==i&&r(`type "${o}" did not match expected type "${i}"`);try{b(e,"constructor")&&(!b(t,"constructor")||t.constructor!==e.constructor)&&r(`constructor "${(a=t==null?void 0:t.constructor)==null?void 0:a.name}" did not match expected constructor "${e.constructor}"`)}catch(u){if(u instanceof r)throw u}Array.isArray(e)?(Array.isArray(t)||r("expected an array"),t.forEach((u,c)=>{if(e.map(h=>{try{mt(u,h,r,n,s);return}catch(d){return new Error(`entry at index "${c}" did not match expected shape: ${ft(d)}`)}}).filter(V).length===e.length)throw new Error(`entry at index "${c}" did not match any of the possible types from "${e.join(", ")}"`)})):A(e)&&pt(t,e,n,s)}function ge(t){return Array.isArray(t)?"array":typeof t}function E(t,e){return ge(t)===e}function gr(t){return v(t).filter(e=>isNaN(Number(e)))}function gt(t){return gr(t).map(r=>t[r])}function yr(t,e){return gt(e).includes(t)}function Z(t,e){let r=!1;const n=v(t).reduce((s,o)=>{const i=e(o,t[o],t);return i instanceof Promise&&(r=!0),{...s,[o]:i}},{});return r?new Promise(async(s,o)=>{try{await Promise.all(v(n).map(async i=>{const a=await n[i];n[i]=a})),s(n)}catch(i){o(i)}}):n}function vr({value:t,prefix:e}){return t.startsWith(e)?t.substring(e.length):t}function $r(t){const e=Object.entries(t).map(([r,n])=>{if(n!=null)return`${r}=${String(n)}`}).filter(V);return e.length?`?${e.join("&")}`:""}function br(t){return vr({value:t,prefix:"?"}).split("&").map(n=>{const[s,...o]=fr(n,"="),i=o.join("");if(!(!i&&!s))return[s,i]}).filter(V)}function _r(t,e){const r=E(t,"string")?new URL(t):t,n=br(r.search),s=Object.fromEntries(n);return e&&pt(s,e),s}function yt(t){if(A(t))return Z(t,(r,n)=>{if(!E(r,"string"))throw new Error(`Invalid CSS var name '${String(r)}' given. CSS var names must be strings.`);if(dr(r).toLowerCase()!==r)throw new Error(`Invalid CSS var name '${r}' given. CSS var names must be in lower kebab case.`);const o=n,i=r.startsWith("--")?P(r):r.startsWith("-")?D`-${P(r)}`:D`--${P(r)}`;return{name:i,value:D`var(${i}, ${P(o)})`,default:String(o)}});throw new Error(`Invalid setup input for '${yt.name}' function.`)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Sr=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}},wr=(t,e,r)=>{e.constructor.createProperty(r,t)};function vt(t){return(e,r)=>r!==void 0?wr(t,e,r):Sr(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ce;((ce=window.HTMLSlotElement)===null||ce===void 0?void 0:ce.prototype.assignedElements)!=null;const Ae=Symbol("key for ignoring inputs not having been set yet"),Er={[Ae]:!0,allowPolymorphicState:!1};function $t(t){const e=t.getRootNode();if(!(e instanceof ShadowRoot))return!1;const r=e.host;return r instanceof dt?!0:$t(r)}function bt(t,e){const r=t.instanceState;v(e).forEach(n=>{if(r&&n in r)throw new Error(`Cannot set input '${n}' on '${t.tagName}'. '${t.tagName}' already has a state property with the same name.`);"instanceInputs"in t?t.instanceInputs[n]=e[n]:t[n]=e[n]}),"instanceInputs"in t&&v(t.instanceInputs).forEach(n=>{n in e||(t.instanceInputs[n]=void 0)}),Ar(t)}function Ar(t){t.haveInputsBeenSet||(t.haveInputsBeenSet=!0)}function Je(t,e){const r=[t,"-"].join("");Object.keys(e).forEach(n=>{if(!n.startsWith(r))throw new Error(`Invalid CSS property name '${n}' in '${t}': CSS property names must begin with the element's tag name.`)})}class Cr extends CustomEvent{get type(){return this._type}constructor(e,r){super(typeof e=="string"?e:e.type,{detail:r,bubbles:!0,composed:!0}),this._type=""}}function _t(){return t=>{var e;return e=class extends Cr{constructor(r){super(t,r),this._type=t}},e.type=t,e}}function Tr(){return _t()}function Rr(t){return t?Object.keys(t).filter(e=>{if(typeof e!="string")throw new Error(`Expected event key of type string but got type "${typeof e}" for key ${String(e)}`);if(e==="")throw new Error("Got empty string for events key.");return!0}).reduce((e,r)=>{const n=_t()(r);return e[r]=n,e},{}):{}}const Pr="_elementVirStateSetup";function Nr(t){return A(t)?Pr in t:!1}function xr(t,e){const r=(t==null?void 0:t.constructor)===(e==null?void 0:e.constructor);return ge(t)===ge(e)&&r}const St=Symbol("and"),wt=Symbol("or"),Et=Symbol("exact"),At=Symbol("enum"),Ce=Symbol("unknown"),Ct="__vir__shape__definition__key__do__not__use__in__actual__objects";function Tt(t){return b(t,Ct)}const Rt="__vir__shape__specifier__key__do__not__use__in__actual__objects",Lr=[St,wt,Et,At,Ce];function Or(){return kr([],Ce)}function Q(t){return W(t,wt)}function Te(t){return W(t,St)}function Re(t){return W(t,Et)}function Pe(t){return W(t,At)}function Ne(t){return W(t,Ce)}function W(t,e){const r=X(t);return!!r&&r.specifierType===e}function kr(t,e){return{[Rt]:!0,specifierType:e,parts:t}}function K(t,e){const r=X(e);if(r){if(Te(r))return r.parts.every(n=>K(t,n));if(Q(r))return r.parts.some(n=>K(t,n));if(Re(r))return A(t)?K(t,r.parts[0]):t===r.parts[0];if(Pe(r))return Object.values(r.parts[0]).some(n=>n===t);if(Ne(r))return!0}return xr(t,e)}function X(t){if(A(t)&&b(t,Rt)){if(!b(t,"parts")||!E(t.parts,"array"))throw new Error("Found a shape specifier but its parts are not valid.");if(!b(t,"specifierType")||!ar(Lr,t.specifierType))throw new Error("Found a shape specifier but its specifier type is not valid.");return t}}function ye(t){return ve(t)}function ve(t){const e=X(t);if(e){if(Q(e)||Re(e))return ve(e.parts[0]);if(Te(e))return e.parts.reduce((r,n)=>Object.assign(r,ve(n)),{});if(Pe(e))return Object.values(e.parts[0])[0];if(Ne(e))return"unknown";throw new Error(`found specifier but it matches no expected specifiers: ${String(e.specifierType)}`)}return Tt(t)?ye(t.shape):t instanceof RegExp||E(t,"array")?t:A(t)?Z(t,(r,n)=>ye(n)):t}function Dr(t){return{shape:t,get runTimeType(){throw new Error("runTimeType cannot be used as a value, it is only for types.")},defaultValue:ye(t),[Ct]:!0}}class $ extends Error{constructor(){super(...arguments),this.name="ShapeMismatchError"}}function jr(t,e,r={}){try{return Mr(t,e,r),!0}catch{return!1}}function Mr(t,e,r={}){T(t,e.shape,["top level"],{exactValues:!1,ignoreExtraKeys:!!r.allowExtraKeys})}function Pt(t){return[t[0],...t.slice(1).map(e=>`'${String(e)}'`)].join(" -> ")}function T(t,e,r,n){if(Ne(e))return!0;if(Tt(e))return T(t,e.shape,r,n);const s=Pt(r);if(X(t))throw new $(`Shape test subjects cannot be contain shape specifiers but one was found at ${s}.`);if(!K(t,e))throw new $(`Subject does not match shape definition at key ${s}`);if(E(e,"function"))return E(t,"function");if(A(t)){const i=t,a=n.ignoreExtraKeys?{}:Object.fromEntries(Object.keys(i).map(c=>[c,!1]));let u=!1;if(Q(e))u=e.parts.some(c=>{try{const l=T(t,c,r,{...n});return Object.assign(a,l),!0}catch(l){if(l instanceof $)return!1;throw l}});else if(Te(e))u=e.parts.every(c=>{try{const l=T(t,c,r,{...n,ignoreExtraKeys:!0});return Object.assign(a,l),!0}catch(l){if(l instanceof $)return!1;throw l}});else if(Re(e)){const c=T(t,e.parts[0],r,{...n,exactValues:!0});Object.assign(a,c),u=!0}else{if(Pe(e))throw new $(`Cannot compare an enum specifier to an object at ${s}`);if(E(e,"array")&&E(i,"array"))u=i.every((c,l)=>{const h=e.some(d=>{try{return T(c,d,[...r,l],n),!0}catch(f){if(f instanceof $)return!1;throw f}});return a[l]=h,h});else{const c=Ur({keys:r,options:n,shape:e,subject:t});Object.assign(a,c),u=!0}}if(!u){const l=`Failed on key(s): ${Object.keys(a).filter(h=>!a[h]).join(",")}`;throw new $(l)}return n.ignoreExtraKeys||Object.entries(a).forEach(([c,l])=>{if(!l)throw new $(`subject as extra key '${c}' in ${s}.`)}),a}else if(n.exactValues)return t===e;return!0}function Ur({keys:t,options:e,shape:r,subject:n}){const s=Pt(t),o={};if(A(r)){const i=new Set(v(n)),a=new Set(v(r));e.ignoreExtraKeys||i.forEach(u=>{if(!a.has(u))throw new $(`Subject has extra key '${String(u)}' in ${s}`)}),a.forEach(u=>{var d;const c=r[u],l=Q(c)?c.parts.includes(void 0):!1,h=((d=c==null?void 0:c.includes)==null?void 0:d.call(c,void 0))||c===void 0;if(!i.has(u)&&!l&&!h)throw new $(`Subject missing key '${String(u)}' in ${s}`)}),i.forEach(u=>{const c=n[u];if(e.ignoreExtraKeys&&!a.has(u))return;const l=r[u];T(c,l,[...t,u],e),o[u]=!0})}else throw new $(`shape definition at ${s} was not an object.`);return o}const Hr=Dr({addListener(){return!1},removeListener(){return!1},value:Or()});function le(t){return jr(t,Hr,{allowExtraKeys:!0})}function zr(t,e,r){if(typeof t!="string"&&typeof t!="number"&&typeof t!="symbol")throw new Error(`Property name must be a string, got type '${typeof t}' from: '${String(t)}' for '${r.toLowerCase()}'`);if(!(t in e))throw new Error(`Property '${String(t)}' does not exist on '${r.toLowerCase()}'.`)}function Ze(t,e){const r=t;function n(i){e?zr(i,t,t.tagName):vt()(t,i)}function s(i,a){return n(a),r[a]}return new Proxy({},{get:s,set:(i,a,u)=>{const c=Nr(u)?u._elementVirStateSetup():u;n(a);const l=r[a];function h(g){i[a]=g,r[a]=g}const d=t.observablePropertyListenerMap[a];if(l!==c&&le(l)&&(d!=null&&d.length)&&l.removeListener(d),le(c))if(d)c.addListener(d);else{let g=function(){t.requestUpdate()};var f=g;t.observablePropertyListenerMap[a]=g,c.addListener(g)}else le(l)&&(t.observablePropertyListenerMap[a]=void 0);return h(c),!0},ownKeys:i=>Reflect.ownKeys(i),getOwnPropertyDescriptor(i,a){if(a in i)return{get value(){return s(i,a)},configurable:!0,enumerable:!0}},has:(i,a)=>Reflect.has(i,a)})}function Br(t){return t?Z(t,e=>e):{}}function Vr({hostClassNames:t,cssVars:e}){return{hostClasses:Z(t,(r,n)=>({name:P(n),selector:P(`:host(.${n})`)})),cssVars:e}}function Wr({host:t,hostClassesInit:e,hostClassNames:r,state:n,inputs:s}){e&&v(e).forEach(o=>{const i=e[o],a=r[o];typeof i=="function"&&(i({state:n,inputs:s})?t.classList.add(a):t.classList.remove(a))})}function Fr(t,e){function r(s){v(s).forEach(o=>{const i=s[o];t.instanceState[o]=i})}return{dispatch:s=>t.dispatchEvent(s),updateState:r,inputs:t.instanceInputs,host:t,state:t.instanceState,events:e}}var Ir=globalThis&&globalThis.__setFunctionName||function(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})};function xe(t){var e;if(!t.renderCallback||typeof t.renderCallback=="string")throw new Error(`Failed to define element '${t.tagName}': renderCallback is not a function`);const r={...Er,...t.options},n=Rr(t.events),s=Br(t.hostClasses);t.hostClasses&&Je(t.tagName,t.hostClasses),t.cssVars&&Je(t.tagName,t.cssVars);const o=t.cssVars?yt(t.cssVars):{},i=typeof t.styles=="function"?t.styles(Vr({hostClassNames:s,cssVars:o})):t.styles||D``,a=t.renderCallback;function u(...[l]){return{_elementVirIsWrappedDefinition:!0,definition:c,inputs:l}}const c=(e=class extends dt{createRenderParams(){return Fr(this,n)}get instanceType(){throw new Error(`"instanceType" was called on ${t.tagName} as a value but it is only for types.`)}static get inputsType(){throw new Error(`"inputsType" was called on ${t.tagName} as a value but it is only for types.`)}static get stateType(){throw new Error(`"stateType" was called on ${t.tagName} as a value but it is only for types.`)}render(){this.renderCount++;try{$t(this)&&!this.haveInputsBeenSet&&!r[Ae]&&console.warn(this,`${t.tagName} got rendered before its input object was set. This was most likely caused by forgetting to use '.assign()' on its opening tag. If no inputs are intended, use '${xe.name}' to define ${t.tagName}.`),this.hasRendered=!0;const l=this.createRenderParams();if(!this.initCalled&&t.initCallback&&(this.initCalled=!0,t.initCallback(l)instanceof Promise))throw new Error("initCallback cannot be asynchronous");const h=a(l);if(h instanceof Promise)throw new Error("renderCallback cannot be asynchronous");return Wr({host:l.host,hostClassesInit:t.hostClasses,hostClassNames:s,state:l.state,inputs:l.inputs}),this.lastRenderedProps={inputs:{...l.inputs},state:{...l.state}},h}catch(l){const h=pr(l);throw h.message=`Failed to render '${t.tagName}': ${h.message}`,this.lastRenderError=h,h}}connectedCallback(){if(super.connectedCallback(),this.hasRendered&&!this.initCalled&&t.initCallback){this.initCalled=!0;const l=this.createRenderParams();if(t.initCallback(l)instanceof Promise)throw new Error(`initCallback in '${t.tagName}' cannot be asynchronous`)}}disconnectedCallback(){if(super.disconnectedCallback(),t.cleanupCallback){const l=this.createRenderParams();if(t.cleanupCallback(l)instanceof Promise)throw new Error(`cleanupCallback in '${t.tagName}' cannot be asynchronous`)}this.initCalled=!1}assignInputs(l){bt(this,l)}constructor(){var h;super(),this.lastRenderError=void 0,this.renderCount=0,this.initCalled=!1,this.hasRendered=!1,this.lastRenderedProps=void 0,this.haveInputsBeenSet=!1,this.definition={},this.observablePropertyListenerMap={},this.instanceInputs=Ze(this,!1),this.instanceState=Ze(this,!((h=t.options)!=null&&h.allowPolymorphicState));const l=t.stateInitStatic||{};v(l).forEach(d=>{vt()(this,d),this.instanceState[d]=l[d]}),this.definition=c}},Ir(e,"anonymousClass"),e.tagName=t.tagName,e.styles=i,e.assign=u,e.isStrictInstance=()=>!1,e.events=n,e.renderCallback=a,e.hostClasses=s,e.cssVars=o,e.stateInitStatic=t.stateInitStatic,e);return Object.defineProperties(c,{name:{value:hr(t.tagName,{capitalizeFirstLetter:!0}),writable:!0},isStrictInstance:{value:l=>l instanceof c,writable:!1}}),window.customElements.get(t.tagName)?console.warn(`Tried to define custom element '${t.tagName}' but it is already defined.`):window.customElements.define(t.tagName,c),c}function qr(){return t=>xe({...t,options:{[Ae]:!1,...t.options}})}function Nt(t,e){return Yr(t,e),t.element}function Kr(t){try{return t.options.host.tagName.toLowerCase()}catch{return}}function Yr(t,e){const r=Kr(t),n=r?`: in ${r}`:"";if(t.type!==st.ELEMENT)throw new Error(`${e} directive can only be attached directly to an element${n}.`);if(!t.element)throw new Error(`${e} directive found no element${n}.`)}function Gr(t,e){return e?Qe(t,e):Qe(void 0,t)}const Qe=it(class extends Se{constructor(t){super(t),this.element=Nt(t,"assign")}render(t,e){return bt(this.element,e),_}});function Jr(t,e){return Zr(t,e)}const Zr=it(class extends Se{constructor(t){super(t),this.element=Nt(t,"listen")}resetListener(t){this.lastListenerMetaData&&this.element.removeEventListener(this.lastListenerMetaData.eventType,this.lastListenerMetaData.listener),this.element.addEventListener(t.eventType,t.listener),this.lastListenerMetaData=t}createListenerMetaData(t,e){return{eventType:t,callback:e,listener:r=>{var n;return(n=this.lastListenerMetaData)==null?void 0:n.callback(r)}}}render(t,e){const r=typeof t=="string"?t:t.type;if(typeof r!="string")throw new Error(`Cannot listen to an event with a name that is not a string. Given event name: "${r}"`);return this.lastListenerMetaData&&this.lastListenerMetaData.eventType===r?this.lastListenerMetaData.callback=e:this.resetListener(this.createListenerMetaData(r,e)),_}});function Qr(t,e,r){const n=!e.length&&!r.length,s=t.length?!1:!e.filter(a=>!!a.index).length;if(n||s)return[...t];const o=t.map(a=>[a]);return o.length||(o[0]=[]),r.forEach(a=>{a>=0&&a<t.length&&(o[a]=[])}),e.forEach(a=>{const u=o[a.index];u&&u.splice(0,0,...a.values)}),o.flat()}function $e(t){return b(t,"_elementVirIsWrappedDefinition")&&!!t._elementVirIsWrappedDefinition}function Le(t){return b(t,"tagName")&&!!t.tagName&&typeof t.tagName=="string"&&t.tagName.includes("-")}function xt(t){return t.map(e=>$e(e)?e.definition:e).filter(e=>Le(e))}const Lt=new WeakMap;function Xr(t,e){var s;const r=xt(e);return(s=Ot(Lt,[t,...r]).value)==null?void 0:s.template}function en(t,e,r){const n=xt(e);return Dt(Lt,[t,...n],r)}function Ot(t,e,r=0){const{currentTemplateAndNested:n,reason:s}=kt(t,e,r);return n?r===e.length-1?{value:n,reason:"reached end of keys array"}:n.nested?Ot(n.nested,e,r+1):{value:void 0,reason:`map at key index ${r} did not have nested maps`}:{value:n,reason:s}}function kt(t,e,r){const n=e[r];if(n==null)return{currentKey:void 0,currentTemplateAndNested:void 0,reason:`key at index ${r} not found`};if(!t.has(n))return{currentKey:n,currentTemplateAndNested:void 0,reason:`key at index ${r} was not in the map`};const s=t.get(n);return s==null?{currentKey:n,currentTemplateAndNested:void 0,reason:`value at key at index ${r} was undefined`}:{currentKey:n,currentTemplateAndNested:s,reason:"key and value exists"}}function Dt(t,e,r,n=0){const{currentTemplateAndNested:s,currentKey:o,reason:i}=kt(t,e,n);if(!o)return{result:!1,reason:i};const a=s??{nested:void 0,template:void 0};if(s||t.set(o,a),n===e.length-1)return a.template=r,{result:!0,reason:"set value at end of keys array"};const u=a.nested??new WeakMap;return a.nested||(a.nested=u),Dt(u,e,r,n+1)}const tn=new WeakMap;function jt(t,e,r){const n=Xr(t,e),s=n??r();if(!n){const a=en(t,e,s);if(a.result)tn.set(t,s);else throw new Error(`Failed to set template transform: ${a.reason}`)}const o=s.valuesTransform(e),i=Qr(e,o.valueInsertions,o.valueIndexDeletions);return{strings:s.templateStrings,values:i}}function Mt(t,e,r,n){const s=[],o=[],i=[],a=[];return t.forEach((c,l)=>{const h=s.length-1,d=s[h],f=l-1,g=e[f];n&&n(c);let m,y=[];if(typeof d=="string"&&(m=r(d,c,g),m)){s[h]=d+m.replacement,i.push(f);const F=m.getExtraValues;y=F?F(g):[],y.length&&F?(s[h]+=" ",y.forEach((De,te)=>{te&&s.push(" ")}),a.push(De=>{const te=De[f],Vt=F(te);return{index:f,values:Vt}}),s.push(c)):s[h]+=c}m||s.push(c);const S=t.raw[l];m?(o[h]=o[h]+m.replacement+S,y.length&&y.forEach(()=>{o.push("")})):o.push(S)}),{templateStrings:Object.assign([],s,{raw:o}),valuesTransform(c){const l=a.map(h=>h(c)).flat();return{valueIndexDeletions:i,valueInsertions:l}}}}function rn(...[t,e,r]){if(Le(r))return{replacement:r.tagName,getExtraValues:void 0}}function nn(t,e){return Mt(t,e,rn)}function sn(t,...e){const r=jt(t,e,()=>nn(t,e));return D(r.strings,...r.values)}function on(...[t,e,r]){const n=$e(r)?r.definition:r,s=t.trim().endsWith("<")&&!!e.match(/^[\s\n>]/),o=(t==null?void 0:t.trim().endsWith("</"))&&e.trim().startsWith(">"),i=s||o,a=Le(n);if(i&&!a)throw console.error({lastNewString:t,currentLitString:e,currentValue:n}),new Error(`Got interpolated tag name but found no tag name on the given value: '${n.prototype.constructor.name}'`);return!i||!a?void 0:{replacement:n.tagName,getExtraValues(c){const l=$e(c)?c.inputs:void 0;return[s&&l?Gr(l):void 0].filter(V)}}}function an(t){}function cn(t){return Mt(t.strings,t.values,on,an)}function be(t,...e){const r=qt(t,...e),n=jt(t,e,()=>cn(r));return{...r,strings:n.strings,values:n.values}}const ln=0;function un(t){return!(t.type!=="click"||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.button!==ln)}function hn(t,e,r){un(t)&&(t.preventDefault(),r.setRoutes(e))}class ee extends Error{constructor(e){super(e),this.name="SpaRouterError"}}class Xe extends ee{constructor(e){super(e),this.name="WindowEventConsolidationError"}}const z="locationchange";globalThis.SPA_ROUTER_VIR_HISTORY_EVENTS_CONSOLIDATED_ALREADY=!1;const dn=globalThis.history.pushState;function et(...t){const e=dn.apply(globalThis.history,t);return globalThis.dispatchEvent(new Event(z)),e}const fn=globalThis.history.replaceState;function tt(...t){const e=fn.apply(globalThis.history,t);return globalThis.dispatchEvent(new Event(z)),e}function pn(){if(!globalThis.SPA_ROUTER_VIR_HISTORY_EVENTS_CONSOLIDATED_ALREADY){if(globalThis.history.pushState===et)throw new Xe("The consolidation module thinks that window events have not been consolidated yet but globalThis.history.pushState has already been overridden. Does this module have two copies in your repo?");if(globalThis.history.replaceState===tt)throw new Xe("The consolidation module thinks that window events have not been consolidated yet but globalThis.history.replaceState has already been overridden. Does this module have two copies in your repo?");globalThis.SPA_ROUTER_VIR_HISTORY_EVENTS_CONSOLIDATED_ALREADY=!0,globalThis.history.pushState=et,globalThis.history.replaceState=tt,globalThis.addEventListener("popstate",()=>{globalThis.dispatchEvent(new Event(z))})}}function mn(t){const e=`/${t}`,n=(t&&globalThis.location.pathname.startsWith(e)?globalThis.location.pathname.replace(e,""):globalThis.location.pathname).split("/").filter(i=>!!i),s=globalThis.location.search?_r(globalThis.location.toString()):void 0,o=globalThis.location.hash||void 0;return{paths:n,search:s,hash:o}}function Ut(t){return t.replace(/(?:^\/|\/+$)/g,"")}function Ht({routeBase:t,windowPath:e}){if(!t)return"";const r=Ut(t);if(zt({routeBase:r,windowPath:e}))return r;const n=r.replace(/^[^\/]+\//,"");return n&&n!==r?Ht({routeBase:n,windowPath:e}):""}function zt({routeBase:t,windowPath:e}){const r=Ut(t);return r?e.startsWith(`/${r}`):!1}class gn extends ee{constructor(e){super(e),this.name="SanitizationDepthMaxed"}}function Oe(t,e){if(t.paths.join(" ")!==e.paths.join(" "))return!1;if(typeof t.search=="object"&&typeof e.search=="object"){const r=Object.entries(t.search).join(" "),n=Object.entries(e.search).join(" ");if(r!==n)return!1}else if(t.search!==e.search)return!1;return t.hash===e.hash}const rt=6;function nt(t,e){const r=t.getCurrentRawRoutes();if(t.sanitizationDepth>rt)throw new gn(`Route sanitization depth has exceed the max of ${rt} with ${JSON.stringify(r)}`);const n=t.sanitizeFullRoute(r);if(Oe(n,r))t.sanitizationDepth=0,e?e(n):t.listeners.forEach(s=>{s(n)});else return t.sanitizationDepth++,t.setRoutes(n,!0)}class ue extends ee{constructor(e){super(e),this.name="InvalidRouterInitParamsError"}}function yn(t){if("routeBase"in t&&typeof t.routeBase!="string"&&t.routeBase!=null)throw new ue(`Invalid type for router init params "routeBase" property. Expected string or undefined but got "${t.routeBase}" with type "${typeof t.routeBase}".`);if("routeSanitizer"in t&&typeof t.routeSanitizer!="function"&&t.routeSanitizer!=null)throw new ue(`Invalid type for router init params "routeSanitizer" property. Expected a function or undefined but got "${t.routeSanitizer}" with type "${typeof t.routeSanitizer}".`);if("maxListenerCount"in t&&(typeof t.maxListenerCount!="number"||isNaN(t.maxListenerCount))&&t.maxListenerCount!=null)throw new ue(`Invalid type for router init params "maxListenerCount" property. Expected a number or undefined but got "${t.maxListenerCount}" with type "${typeof t.maxListenerCount}".`)}function vn(t,e,r=!1){const n=Bt(t,e);r?globalThis.history.replaceState(void 0,"",n):globalThis.history.pushState(void 0,"",n)}function Bt(t,e){var a;const r=zt({routeBase:e,windowPath:globalThis.location.pathname})?e:"",n=t.search?$r(t.search):"",s=(a=t.hash)!=null&&a.startsWith("#")?"":"#",o=t.hash?`${s}${t.hash}`:"";return`/${[r,...t.paths].filter(V).join("/")}${n}${o}`}function $n(t={}){yn(t),pn();const e=t.routeBase?Ht({routeBase:t.routeBase,windowPath:globalThis.window.location.pathname}):"";let r=!1;const n=()=>nt(s),s={listeners:new Set,initParams:t,sanitizeFullRoute(o){const i={hash:void 0,search:void 0,...o};return t.routeSanitizer?t.routeSanitizer(i):i},setRoutes(o,i=!1,a=!1){const u=s.getCurrentRawRoutes(),c={...u,...o},l=s.sanitizeFullRoute(c);if(!(!a&&Oe(u,l)))return vn(l,e,i)},createRoutesUrl(o){return Bt(o,e)},getCurrentRawRoutes(){return mn(e)},removeAllRouteListeners(){s.listeners.forEach(o=>s.removeRouteListener(o))},addRouteListener(o,i){if(t.maxListenerCount&&s.listeners.size>=t.maxListenerCount)throw new ee(`Tried to exceed route listener max of '${t.maxListenerCount}'.`);return s.listeners.add(i),r||(globalThis.addEventListener(z,n),r=!0),o&&nt(s,i),i},hasRouteListener(o){return s.listeners.has(o)},removeRouteListener(o){const i=s.listeners.delete(o);return s.listeners.size||(globalThis.removeEventListener(z,n),r=!1),i},sanitizationDepth:0};return s}var ke=(t=>(t.Home="home",t.Page1="page1",t.Page2="page2",t.About="about",t))(ke||{});const _e={paths:["home","main"],hash:void 0,search:void 0},bn=$n({routeBase:"spa-router-vir",routeSanitizer:t=>{var a;if(!t.paths.length)return{...t,paths:_e.paths};const e=t.paths[0];if(!yr(e,ke))return{...t,paths:_e.paths};const r=t.paths[1],n=typeof r=="string"?[e,r]:[e],s=((a=t.hash)==null?void 0:a.replace(/^#/,"").length)===3?t.hash:void 0;return{search:Object.keys(t.search||{}).every(u=>{var c,l;return u.length===3&&((l=(c=t.search)==null?void 0:c[u])==null?void 0:l.length)===3})?t.search:void 0,hash:s,paths:n}}}),_n=globalThis.crypto;function he(t=16){const e=Math.ceil(t/2),r=new Uint8Array(e);return _n.getRandomValues(r),Array.from(r).map(n=>n.toString(16).padStart(2,"0")).join("").substring(0,t)}function Sn(t,e,r){hn(t,e,r)}const I=qr()({tagName:"vir-spa-nav",stateInitStatic:{router:bn,routeListener:void 0},events:{routeChange:Tr()},initCallback({state:t,dispatch:e,events:r}){t.router.addRouteListener(!0,n=>{e(new r.routeChange(n))})},renderCallback({state:t,inputs:e}){return Oe(e.currentRoute,t.router.getCurrentRawRoutes())||t.router.setRoutes(e.currentRoute),be`
            <nav>
                ${gt(ke).map(r=>{const n={paths:[r]},s=t.router.createRoutesUrl(n);return be`
                        <a
                            href=${s}
                            data-route-name=${r}
                            @click=${i=>Sn(i,n,t.router)}
                        >
                            ${r}
                        </a>
                    `})}

                <button
                    @click=${()=>{t.router.setRoutes({hash:he(3)})}}
                >
                    add hash
                </button>
                <button
                    class="add-encoded-character"
                    @click=${()=>{t.router.setRoutes({search:{key:"%23"}})}}
                >
                    add encoded character
                </button>
                <button
                    @click=${()=>{t.router.setRoutes({search:{[he(3)]:he(3)}})}}
                >
                    add search
                </button>
            </nav>
        `}});xe({tagName:"vir-spa-router-test-app",styles:sn`
        :host {
            display: flex;
            flex-direction: column;
            padding: 32px;
        }

        ${I} {
            margin-bottom: 16px;
        }
    `,stateInitStatic:{currentRoute:_e},renderCallback({state:t,updateState:e}){return be`
            <${I.assign({currentRoute:t.currentRoute})}
                ${Jr(I.events.routeChange,r=>{e({currentRoute:r.detail})})}
            ></${I}>
            <div>
                <span>current main route path: ${t.currentRoute.paths[0]}</span>
            </div>
        `}});
